<?xml version="1.0" encoding="UTF-8"?>
<testsuites>
  <testsuite name="fastlane.lanes">
    
    
    
      
      <testcase classname="fastlane.lanes" name="00: default_platform" time="0.000196">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="01: Switch to ios api_key lane" time="5.4e-05">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="02: app_store_connect_api_key" time="0.009449">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="03: security unlock-keychain -p &apos;&apos; ~/Library/Keychains/build.keychain-db" time="0.011157">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="04: security set-key-partition-list -S apple-tool:,apple:,codesign: -s -k &apos;&apos; ~/Library/Keychains/build.keychain-db 2&gt;/dev/null || true" time="0.023227">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="05: security list-keychains -d user -s ~/Library/Keychains/build.keychain-db ~/Library/Keychains/login.keychain-db /Library/Keychains/System.keychain" time="0.00795">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="06: Switch to ios create_json_key lane" time="8.5e-05">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="07: sigh" time="3.895488">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="08: cp &apos;/Users/familybot/.openclaw/workspace/projects/SingCoach/fastlane/AppStore_com.jrgrafton.singcoach.mobileprovision&apos; ~/Library/MobileDevice/Provisioning\ Profiles/97592b2a-7d0e-48aa-b590-01ca955d251d.mobileprovision" time="0.0069">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="09: update_code_signing_settings" time="0.035078">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="10: shell command" time="0.007516">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="11: /usr/libexec/PlistBuddy -c &apos;Set CFBundleVersion 10&apos; &apos;/Users/familybot/.openclaw/workspace/projects/SingCoach/SingCoach/Info.plist&apos;" time="0.005953">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="12: build_app" time="85.08642">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="13: 
      KEY_CONTENT=$(cat /Users/familybot/.openclaw/secrets/app-store-connect/AuthKey_7UKLD4C2CC.p8)
      cat &gt; /tmp/asc_api_key.json &lt;&lt; EOF
{
  &quot;key_id&quot;: &quot;7UKLD4C2CC&quot;,
  &quot;issuer_id&quot;: &quot;69a6de70-79a7-47e3-e053-5b8c7c11a4d1&quot;,
  &quot;key&quot;: $(echo &quot;$KEY_CONTENT&quot; | jq -Rs .),
  &quot;duration&quot;: 1200,
  &quot;in_house&quot;: false
}
EOF
      fastlane pilot upload --ipa &quot;/Users/familybot/.openclaw/workspace/projects/SingCoach/build/SingCoach.ipa&quot;         --skip_waiting_for_build_processing         --app_identifier &quot;com.jrgrafton.singcoach&quot;         --api-key-path /tmp/asc_api_key.json
    " time="43.951599">
        
      </testcase>
    
      
      <testcase classname="fastlane.lanes" name="14: 
      python3 - &lt;&lt; &apos;PYEOF&apos;
import jwt, time, urllib.request, json, sys, os

key = open(os.path.expanduser(&quot;~/.openclaw/secrets/app-store-connect/AuthKey_7UKLD4C2CC.p8&quot;)).read()
payload = {&quot;iss&quot;: &quot;69a6de70-79a7-47e3-e053-5b8c7c11a4d1&quot;, &quot;iat&quot;: int(time.time()), &quot;exp&quot;: int(time.time()) + 1200, &quot;aud&quot;: &quot;appstoreconnect-v1&quot;}
token = jwt.encode(payload, key, algorithm=&quot;ES256&quot;, headers={&quot;kid&quot;: &quot;7UKLD4C2CC&quot;})
headers = {&quot;Authorization&quot;: f&quot;Bearer {token}&quot;, &quot;Content-Type&quot;: &quot;application/json&quot;}

# Find build ID for build 10
url = &quot;https://api.appstoreconnect.apple.com/v1/apps/6759441600/builds?limit=20&amp;fields[builds]=version,processingState&quot;
req = urllib.request.Request(url, headers=headers)
builds = json.loads(urllib.request.urlopen(req).read())[&quot;data&quot;]
build_id = next((b[&quot;id&quot;] for b in builds if b[&quot;attributes&quot;][&quot;version&quot;] == &quot;10&quot;), None)

if not build_id:
    print(&quot;ERROR: Could not find build 10 in ASC!&quot;, file=sys.stderr)
    sys.exit(1)

print(f&quot;Found Build 10: {build_id}&quot;)

# Add to Internal Testers group via ASC API
payload_data = json.dumps({&quot;data&quot;: [{&quot;type&quot;: &quot;builds&quot;, &quot;id&quot;: build_id}]}).encode()
req = urllib.request.Request(
    &quot;https://api.appstoreconnect.apple.com/v1/betaGroups/7b26e051-1109-4403-b4a3-86873cbf970e/relationships/builds&quot;,
    data=payload_data, headers=headers, method=&quot;POST&quot;
)
try:
    urllib.request.urlopen(req)
    print(&quot;✅ Build 10 successfully added to Internal Testers group&quot;)
except Exception as e:
    print(f&quot;ERROR adding to beta group: {e}&quot;, file=sys.stderr)
    sys.exit(1)
PYEOF
    " time="1.335513">
        
          <failure message="/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/actions/actions_helper.rb:67:in &apos;Fastlane::Actions.execute_action&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/fast_file.rb:224:in &apos;Fastlane::FastFile.sh&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/fast_file.rb:216:in &apos;Fastlane::FastFile#sh&apos;&#10;Fastfile:115:in &apos;block (2 levels) in Fastlane::FastFile#parsing_binding&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/lane.rb:41:in &apos;Fastlane::Lane#call&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/runner.rb:49:in &apos;block in Fastlane::Runner#execute&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/runner.rb:45:in &apos;Dir.chdir&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/runner.rb:45:in &apos;Fastlane::Runner#execute&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/lane_manager.rb:46:in &apos;Fastlane::LaneManager.cruise_lane&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/command_line_handler.rb:34:in &apos;Fastlane::CommandLineHandler.handle&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/commands_generator.rb:110:in &apos;block (2 levels) in Fastlane::CommandsGenerator#run&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/commander-4.6.0/lib/commander/command.rb:187:in &apos;Commander::Command#call&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/commander-4.6.0/lib/commander/command.rb:157:in &apos;Commander::Command#run&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/commander-4.6.0/lib/commander/runner.rb:444:in &apos;Commander::Runner#run_active_command&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane_core/lib/fastlane_core/ui/fastlane_runner.rb:124:in &apos;Commander::Runner#run!&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/commander-4.6.0/lib/commander/delegates.rb:18:in &apos;Commander::Delegates#run!&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/commands_generator.rb:363:in &apos;Fastlane::CommandsGenerator#run&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/commands_generator.rb:43:in &apos;Fastlane::CommandsGenerator.start&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/fastlane/lib/fastlane/cli_tools_distributor.rb:132:in &apos;Fastlane::CLIToolsDistributor.take_off&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/gems/fastlane-2.232.1/bin/fastlane:23:in &apos;&lt;top (required)&gt;&apos;&#10;/opt/homebrew/Cellar/ruby/4.0.1/lib/ruby/4.0.0/rubygems.rb:303:in &apos;Kernel#load&apos;&#10;/opt/homebrew/Cellar/ruby/4.0.1/lib/ruby/4.0.0/rubygems.rb:303:in &apos;Gem.activate_and_load_bin_path&apos;&#10;/opt/homebrew/Cellar/fastlane/2.232.1/libexec/bin/fastlane:25:in &apos;&lt;main&gt;&apos;&#10;&#10;Exit status of command &apos;&#10;      python3 - &lt;&lt; &apos;PYEOF&apos;&#10;import jwt, time, urllib.request, json, sys, os&#10;&#10;key = open(os.path.expanduser(&quot;~/.openclaw/secrets/app-store-connect/AuthKey_7UKLD4C2CC.p8&quot;)).read()&#10;payload = {&quot;iss&quot;: &quot;69a6de70-79a7-47e3-e053-5b8c7c11a4d1&quot;, &quot;iat&quot;: int(time.time()), &quot;exp&quot;: int(time.time()) + 1200, &quot;aud&quot;: &quot;appstoreconnect-v1&quot;}&#10;token = jwt.encode(payload, key, algorithm=&quot;ES256&quot;, headers={&quot;kid&quot;: &quot;7UKLD4C2CC&quot;})&#10;headers = {&quot;Authorization&quot;: f&quot;Bearer {token}&quot;, &quot;Content-Type&quot;: &quot;application/json&quot;}&#10;&#10;# Find build ID for build 10&#10;url = &quot;https://api.appstoreconnect.apple.com/v1/apps/6759441600/builds?limit=20&amp;fields[builds]=version,processingState&quot;&#10;req = urllib.request.Request(url, headers=headers)&#10;builds = json.loads(urllib.request.urlopen(req).read())[&quot;data&quot;]&#10;build_id = next((b[&quot;id&quot;] for b in builds if b[&quot;attributes&quot;][&quot;version&quot;] == &quot;10&quot;), None)&#10;&#10;if not build_id:&#10;    print(&quot;ERROR: Could not find build 10 in ASC!&quot;, file=sys.stderr)&#10;    sys.exit(1)&#10;&#10;print(f&quot;Found Build 10: {build_id}&quot;)&#10;&#10;# Add to Internal Testers group via ASC API&#10;payload_data = json.dumps({&quot;data&quot;: [{&quot;type&quot;: &quot;builds&quot;, &quot;id&quot;: build_id}]}).encode()&#10;req = urllib.request.Request(&#10;    &quot;https://api.appstoreconnect.apple.com/v1/betaGroups/7b26e051-1109-4403-b4a3-86873cbf970e/relationships/builds&quot;,&#10;    data=payload_data, headers=headers, method=&quot;POST&quot;&#10;)&#10;try:&#10;    urllib.request.urlopen(req)&#10;    print(&quot;✅ Build 10 successfully added to Internal Testers group&quot;)&#10;except Exception as e:&#10;    print(f&quot;ERROR adding to beta group: {e}&quot;, file=sys.stderr)&#10;    sys.exit(1)&#10;PYEOF&#10;    &apos; was 1 instead of 0.&#10;ERROR adding to beta group: HTTP Error 422: Unprocessable Entity&#10;Found Build 10: 22ba1cca-1d4f-4b2c-953d-93693f32d9ab&#10;" />
        
      </testcase>
    
  </testsuite>
</testsuites>
